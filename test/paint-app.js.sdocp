sdocp('test/paint-app.js.sdoc', 'Collaborative paint test application\n\ncaterwaul.clone(\'std seq montenegro\')(function () {\n  let[connections = seq[~[]]] in\n  caterwaul.montenegro.server(8080) /se[\n    _.rpc(\'/listen\', fn_[connections.push(this)]).rpc(\'/send\', fn[message][seq[connections *![_(message)]], connections = seq[~[]], this(\'OK\')]),\n\n    _.html(\'/\', qs[caterwaul.montenegro.rpc(\'/listen\')(fn[message][$(\'canvas\').getContext(\'2d\') /se[_.moveTo(message.x1, message.y1), _.strokeStyle = message.color || \'#35a\',\n                                                                                                    _.lineTo(mesasge.x2, message.y2), _.stroke()]]),\n                   let[send = caterwaul.montenegro.rpc(\'/send\')] in\n                   $(\'body\').append(let[x = 0, y = 0] in html[canvas /mousedown(fn[e][x = e.pageX - o.left, y = e.pageY - o.top, where[o = $(this).offset()]])\n                                                                     /mousemove(fn[e][send({x1: x, y1: y, x2: x = e.pageX, y2: y = e.pageY})])\n                                                                     /mouseup  (fn[e][x = y = 0])])])]})();\n');